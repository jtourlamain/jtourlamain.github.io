<!doctype html>

<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<!-- Page Info -->
	<link rel="shortcut icon" href="/assets/images/favicon.ico">
	<title>Microsoft Entra ID fails YubiKey users on Firefox for Linux – DevProtocol</title>
	<meta name="description" content="">

	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Microsoft Entra ID fails YubiKey users on Firefox for Linux – DevProtocol">
	<meta name="twitter:description" content="">
	<meta name="twitter:image:src" content="https://www.devprotocol.com">

	<!-- Facebook OpenGraph -->
	<meta property="og:title" content="Microsoft Entra ID fails YubiKey users on Firefox for Linux – DevProtocol" />
	<meta property="og:description" content="" />
	<meta property="og:image" content="https://www.devprotocol.com" />

	
	<!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Muli:300,400,600,700" rel="stylesheet">
	

	<!-- Styles -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400%7CRoboto+Slab' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="/assets/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/screen.css">

	<link rel="alternate" type="application/rss+xml"  href="https://www.devprotocol.com/feed.xml" title="DevProtocol">

	
	<!-- Custom Styles -->
	<style></style>
	

	
	<!-- Analytics Code -->
	
	

	
	<!-- Extra Header JS Code -->
	
	
	
</head>


<body class="home-template">


	<header class="main-header">
	<div class="container">
		<div class="row">
		<div class="col-sm-12">
			<a class="branding" href="/"><span class="mylogo">Dev</span>Protocol</a>
		</div>
		</div>
	</div>
</header>

<nav class="main-navigation">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<div class="navbar-header">
					<span class="nav-toggle-button collapsed" data-toggle="collapse" data-target="#main-menu">
					<span class="sr-only">Toggle navigation</span>
					<i class="fa fa-bars"></i>
					</span>
				</div>
				<div class="collapse navbar-collapse" id="main-menu">
					<ul class="menu">
						
						<li class="nav-home" role="presentation"><a href="/">Home</a></li>
						
						<li class="nav-home" role="presentation"><a href="/about">About</a></li>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</nav>


	<section class="content-wrap">

		<div class="container">
			<div class="row">
				<div class="col-md-8 main-content">

					<article class="post">
	<div class="post-head">
		<h2 class="post-title">Microsoft Entra ID fails YubiKey users on Firefox for Linux</h2>
		<div class="post-meta">
			
			<span class="author">By <a href="">Jan Tourlamain</a></span> &bull;
			
			<span class="date">July 31, 2024</span> &bull;
			<span class="comment-count"><a href="#disqus_thread">0 Comments</a></span>
		</div>
	</div>
	
	<div class="featured-media">
		<img src="/assets/images/2024/07/entraid_firefox_fail.png" alt="Microsoft Entra ID fails YubiKey users on Firefox for Linux">
	</div>
	
	<div class="post-content">
		<p>We all know the statements that Microsoft made about linux. They love Linux. They even wrote a <a href="https://www.microsoft.com/en-us/windows-server/blog/2015/05/06/microsoft-loves-linux/">blogpost</a> about it. But that love falls short when you use Firefox on Linux. In my research on identity and access management, I have been exploring various login options. One of the approaches I tested is passwordless login using technologies like WebAuthn and YubiKey support. 
I experimented with this on various operating systems, browsers and Identity Providers, including Microsoft Entra ID.
<!--more--></p>

<h2 id="the-problem">The Problem</h2>

<p>Normaly you are presented with a prompt to allow you to choose other sign-in options:</p>

<p><img src="/assets/images/2024/07/webauthn_signin_options.png" alt="Sign-in options" /></p>

<p>When loading the web page on a linux distribution, I was presented with the following options:</p>

<p><img src="/assets/images/2024/07/webauthn_entraId_signin_options_firefox.png" alt="Sign-in options" /></p>

<p>Where was the option to use my YubiKey to login? I was sure it once worked fine in Linux on Firefox. I tried another Linux distribution and was presented with the same problem.</p>

<h2 id="the-search">The search</h2>

<p>My first thought was that it was a problem with the YubiKey. I tried another YubiKey, but the problem persisted.
I installed the Chrome browser as it is the popular browser. On Chrome I was presented with the correct options, was able to choose the YubiKey and login successfully.</p>

<p>I verified on the Yubico website <a href="https://support.yubico.com/hc/en-us/articles/360016615020-Operating-system-and-web-browser-support-for-FIDO2-and-U2F">Operating system and web browser support for FIDO2 and U2F </a> and found that the YubiKey is supported on Firefox on Linux.</p>

<p>So, why was I not able to login using my YubiKey on Linux using Firefox to login on Microsoft Entra ID? I did some digging on the microsoft website and found a user already asked the <a href="https://learn.microsoft.com/en-au/answers/questions/1762573/fido2-support-with-firefox-on-linux">question</a>. Microsoft states that they don’t support passwordless login on Firefox in Linux.</p>

<h2 id="entra-id-blocks-firefox">Entra ID blocks Firefox</h2>

<p>I still needed to find out if Firefox on Linux is capable of supporting Yubikey to login. I searched for the User Agent string that Chrome is using in their browser, and I changed the User Agent string in Firefox to match the one in Chrome.</p>

<p><img src="/assets/images/2024/07/firefox_user_agent.png" alt="User Agent string" /></p>

<p>Once I update the User Agent string in Firefox, I was able to login using my YubiKey on Microsoft Entra ID.</p>

<p>Microsoft loves Linux, but only if you don’t use Firefox? I hope they update their support for Firefox on Linux soon.</p>

	</div>
	<footer class="post-footer clearfix">
		<div class="pull-left tag-list">
			<i class="fa fa-folder-open-o"></i>
			
			
				
				<a href="/tag/entra-id/">entra id</a>, 
				
			
				
				<a href="/tag/linux/">linux</a>, 
				
			
				
				<a href="/tag/oidc/">oidc</a>, 
				
			
				
				<a href="/tag/security/">security</a>, 
				
			
				
				<a href="/tag/webauthn/">webauthn</a>, 
				
			
				
				<a href="/tag/yubikey/">yubikey</a>
				
			
		</div>

	</footer>
</article>
<div class="comment-wrap">
	
<div class="disqus-container">
    <div id="disqus_thread"></div>
    <script>
        /**
        *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://devprotocol.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</div>



				</div>

				<div class="col-md-4 sidebar">
        <div class="widget">
        <h4 class="title">Follow</h4>
        <div class="content">
            <ul class="social">
                <!-- start social links -->
                <li><a href="https://be.linkedin.com/in/jantourlamain"><i class="fa fa-linkedin"></i></a></li>
                <li><a href="https://github.com/jtourlamain"><i class="fa fa-github"></i></a></li>
                <li><a href="/feed.xml"><i class="fa fa-rss"></i></a></li>
                <!-- end social links -->
            </ul>
        </div>
    </div>
    <div class="widget">
    <h4 class="title">Recent Post</h4>
	<div class="content recent-post">
        
    <div class="recent-single-post">
      <a href="/2024/07/31/microsoft-entra-id-fails-yubikey-users-on-firefox-for-linux.html" class="post-title">Microsoft Entra ID fails YubiKey users on Firefox for Linux</a>
      <div class="date">July 31, 2024</div>
      </div>
      
    <div class="recent-single-post">
      <a href="/2023/06/30/expose-a-subset-of-your-openapi-spec-on-azure-apim.html" class="post-title">Expose a subset of your openapi spec on azure APIM</a>
      <div class="date">June 30, 2023</div>
      </div>
      
    <div class="recent-single-post">
      <a href="/2022/09/06/azure-b2c-token-validation-with-dotnet-core.html" class="post-title">Azure B2C token validation with dotnet core</a>
      <div class="date">September 06, 2022</div>
      </div>
      
  </div>
</div>
	    <div class="widget">
        <h4 class="title">Tags</h4>
        <div class="content tag-cloud">
            
            
            <a href="/tag/alm">alm</a>
            
            <a href="/tag/apim">apim</a>
            
            <a href="/tag/azure">azure</a>
            
            <a href="/tag/devops">devops</a>
            
            <a href="/tag/docker">docker</a>
            
            <a href="/tag/dotnet">dotnet</a>
            
            <a href="/tag/entra-id">entra id</a>
            
            <a href="/tag/fsharp">fsharp</a>
            
            <a href="/tag/giraffe">giraffe</a>
            
            <a href="/tag/linux">linux</a>
            
            <a href="/tag/mobile">mobile</a>
            
            <a href="/tag/o365">o365</a>
            
            <a href="/tag/oauth2">oauth2</a>
            
            <a href="/tag/oidc">oidc</a>
            
            <a href="/tag/other">other</a>
            
            <a href="/tag/powershell">powershell</a>
            
            <a href="/tag/productivity">productivity</a>
            
            <a href="/tag/reactiveui">reactiveui</a>
            
            <a href="/tag/security">security</a>
            
            <a href="/tag/webauthn">webauthn</a>
            
            <a href="/tag/xamarin">xamarin</a>
            
            <a href="/tag/yubikey">yubikey</a>
            
        </div>
    </div>
</div>

			</div>
		</div>
	</section>


	<footer class="main-footer">

	<div class="container">
		<div class="row">
			<div class="col-sm-4">
				<div class="widget">
    <h4 class="title">Recent Post</h4>
	<div class="content recent-post">
        
    <div class="recent-single-post">
      <a href="/2024/07/31/microsoft-entra-id-fails-yubikey-users-on-firefox-for-linux.html" class="post-title">Microsoft Entra ID fails YubiKey users on Firefox for Linux</a>
      <div class="date">July 31, 2024</div>
      </div>
      
    <div class="recent-single-post">
      <a href="/2023/06/30/expose-a-subset-of-your-openapi-spec-on-azure-apim.html" class="post-title">Expose a subset of your openapi spec on azure APIM</a>
      <div class="date">June 30, 2023</div>
      </div>
      
    <div class="recent-single-post">
      <a href="/2022/09/06/azure-b2c-token-validation-with-dotnet-core.html" class="post-title">Azure B2C token validation with dotnet core</a>
      <div class="date">September 06, 2022</div>
      </div>
      
  </div>
</div>
			</div>
			<div class="col-sm-4">
				    <div class="widget">
        <h4 class="title">Tags</h4>
        <div class="content tag-cloud">
            
            
            <a href="/tag/alm">alm</a>
            
            <a href="/tag/apim">apim</a>
            
            <a href="/tag/azure">azure</a>
            
            <a href="/tag/devops">devops</a>
            
            <a href="/tag/docker">docker</a>
            
            <a href="/tag/dotnet">dotnet</a>
            
            <a href="/tag/entra-id">entra id</a>
            
            <a href="/tag/fsharp">fsharp</a>
            
            <a href="/tag/giraffe">giraffe</a>
            
            <a href="/tag/linux">linux</a>
            
            <a href="/tag/mobile">mobile</a>
            
            <a href="/tag/o365">o365</a>
            
            <a href="/tag/oauth2">oauth2</a>
            
            <a href="/tag/oidc">oidc</a>
            
            <a href="/tag/other">other</a>
            
            <a href="/tag/powershell">powershell</a>
            
            <a href="/tag/productivity">productivity</a>
            
            <a href="/tag/reactiveui">reactiveui</a>
            
            <a href="/tag/security">security</a>
            
            <a href="/tag/webauthn">webauthn</a>
            
            <a href="/tag/xamarin">xamarin</a>
            
            <a href="/tag/yubikey">yubikey</a>
            
        </div>
    </div>
			</div>
			<div class="col-sm-4">
				&nbsp;
			</div>
			
		
		</div>
	</div>

</footer>


<div class="copyright">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				Copyright &copy; 2024, <a href="https://www.devprotocol.com">DevProtocol</a>.  All Right Reserved
			</div>
		</div>
	</div>
</div>
<a href="#" id="back-to-top"><i class="fa fa-angle-up"></i></a>


	
	<!-- Extra Footer JS Code -->
	
	


</body>

</html>